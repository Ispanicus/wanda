import pandas as pd

results01 = {'results': {'headqa_en': {'acc': 0.3085339168490153, 'acc_stderr': 0.008822311335958325, 'acc_norm': 0.3544857768052516, 'acc_norm_stderr': 0.009136877397871918}, 'headqa_es': {'acc': 0.2935813274981765, 'acc_stderr': 0.008698428186513885, 'acc_norm': 0.3398978847556528, 'acc_norm_stderr': 0.00904743091106993}, 'xstory_cloze_en': {'acc': 0.7074784910655195, 'acc_stderr': 0.011707038572975033}, 'xstory_cloze_es': {'acc': 0.6585043017868961, 'acc_stderr': 0.012203473241214428}, 'xstory_cloze_zh': {'acc': 0.6201191264063534, 'acc_stderr': 0.012490298101718178}, 'pawsx_en': {'acc': 0.6115, 'acc_stderr': 0.010901527262192292}, 'pawsx_es': {'acc': 0.593, 'acc_stderr': 0.010987987437832495}, 'pawsx_zh': {'acc': 0.4695, 'acc_stderr': 0.011162310405413179}, 'xnli_en': {'acc': 0.53812375249501, 'acc_stderr': 0.007044146498996045}, 'xnli_es': {'acc': 0.48562874251497007, 'acc_stderr': 0.007061793633269561}, 'xnli_zh': {'acc': 0.35149700598802397, 'acc_stderr': 0.006745921636677072}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': None, 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
results03 = {'results': {'headqa_en': {'acc': 0.30233406272793584, 'acc_stderr': 0.00877228599327107, 'acc_norm': 0.3519328956965718, 'acc_norm_stderr': 0.009121902004392855}, 'headqa_es': {'acc': 0.28774617067833697, 'acc_stderr': 0.008647043724456887, 'acc_norm': 0.3336980306345733, 'acc_norm_stderr': 0.00900653731088856}, 'xstory_cloze_en': {'acc': 0.698874917273329, 'acc_stderr': 0.01180550907652775}, 'xstory_cloze_es': {'acc': 0.6518861681005956, 'acc_stderr': 0.012259084803727359}, 'xstory_cloze_zh': {'acc': 0.6187954996690933, 'acc_stderr': 0.012498678850934083}, 'pawsx_en': {'acc': 0.608, 'acc_stderr': 0.010919139792442533}, 'pawsx_es': {'acc': 0.5835, 'acc_stderr': 0.011026090074507982}, 'pawsx_zh': {'acc': 0.476, 'acc_stderr': 0.011170245619215438}, 'xnli_en': {'acc': 0.5337325349301397, 'acc_stderr': 0.007048616447824832}, 'xnli_es': {'acc': 0.48862275449101794, 'acc_stderr': 0.007062883255522487}, 'xnli_zh': {'acc': 0.34770459081836325, 'acc_stderr': 0.006729020595578699}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': None, 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
results05 = {'results': {'headqa_en': {'acc': 0.2862873814733771, 'acc_stderr': 0.008633925024089285, 'acc_norm': 0.3307804522246535, 'acc_norm_stderr': 0.00898668894135526}, 'headqa_es': {'acc': 0.27169948942377825, 'acc_stderr': 0.008496600536401095, 'acc_norm': 0.31692195477753465, 'acc_norm_stderr': 0.008887033324596328}, 'xstory_cloze_en': {'acc': 0.6724023825281271, 'acc_stderr': 0.01207804144298347}, 'xstory_cloze_es': {'acc': 0.628060886829914, 'acc_stderr': 0.012437936235202007}, 'xstory_cloze_zh': {'acc': 0.5837193911317009, 'acc_stderr': 0.01268547335096753}, 'pawsx_en': {'acc': 0.587, 'acc_stderr': 0.011012544577391415}, 'pawsx_es': {'acc': 0.5565, 'acc_stderr': 0.011111507899646485}, 'pawsx_zh': {'acc': 0.4725, 'acc_stderr': 0.011166208716863538}, 'xnli_en': {'acc': 0.5291417165668663, 'acc_stderr': 0.007052702953973549}, 'xnli_es': {'acc': 0.4746506986027944, 'acc_stderr': 0.007055627201628277}, 'xnli_zh': {'acc': 0.3385229540918164, 'acc_stderr': 0.006686147209928331}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': None, 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
results07 = {'results': {'headqa_en': {'acc': 0.2527352297592998, 'acc_stderr': 0.008300717396850463, 'acc_norm': 0.2975929978118162, 'acc_norm_stderr': 0.008732754527011654}, 'headqa_es': {'acc': 0.24070021881838075, 'acc_stderr': 0.008165642499601129, 'acc_norm': 0.2939460247994165, 'acc_norm_stderr': 0.008701582240770969}, 'xstory_cloze_en': {'acc': 0.5777630708140304, 'acc_stderr': 0.012710555263676445}, 'xstory_cloze_es': {'acc': 0.5453342157511581, 'acc_stderr': 0.012814127367359427}, 'xstory_cloze_zh': {'acc': 0.49636002647253474, 'acc_stderr': 0.012866784348289226}, 'pawsx_en': {'acc': 0.4955, 'acc_stderr': 0.011182683094883917}, 'pawsx_es': {'acc': 0.5515, 'acc_stderr': 0.011123656901911276}, 'pawsx_zh': {'acc': 0.446, 'acc_stderr': 0.011117724672834362}, 'xnli_en': {'acc': 0.4295409181636727, 'acc_stderr': 0.006994215414803197}, 'xnli_es': {'acc': 0.3908183632734531, 'acc_stderr': 0.006894223630352016}, 'xnli_zh': {'acc': 0.32435129740518964, 'acc_stderr': 0.006614435372412172}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': None, 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
results09 = {'results': {'headqa_en': {'acc': 0.21152443471918309, 'acc_stderr': 0.0078004538786903155, 'acc_norm': 0.24945295404814005, 'acc_norm_stderr': 0.008264731858357677}, 'headqa_es': {'acc': 0.20277169948942378, 'acc_stderr': 0.007679633711460949, 'acc_norm': 0.24653537563822028, 'acc_norm_stderr': 0.008232211853559115}, 'xstory_cloze_en': {'acc': 0.4771674387822634, 'acc_stderr': 0.012853702384870849}, 'xstory_cloze_es': {'acc': 0.4983454665784249, 'acc_stderr': 0.012867054869163334}, 'xstory_cloze_zh': {'acc': 0.47054930509596293, 'acc_stderr': 0.012844785490016998}, 'pawsx_en': {'acc': 0.544, 'acc_stderr': 0.011139750761283316}, 'pawsx_es': {'acc': 0.5395, 'acc_stderr': 0.011148184426533292}, 'pawsx_zh': {'acc': 0.447, 'acc_stderr': 0.01112013168376774}, 'xnli_en': {'acc': 0.3311377245508982, 'acc_stderr': 0.006649625166825773}, 'xnli_es': {'acc': 0.3377245508982036, 'acc_stderr': 0.00668228706320318}, 'xnli_zh': {'acc': 0.32954091816367265, 'acc_stderr': 0.006641486540350723}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': None, 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}

results = [results01, results03, results05, results07, results09]
sparsities = [0.1, 0.3, 0.5, 0.7, 0.9]
names = ["headqa_en","headqa_es","xstory_cloze_en","xstory_cloze_es","xstory_cloze_zh","pawsx_en","pawsx_es","pawsx_zh","xnli_en","xnli_es","xnli_zh"]



def extract_metrics(results_dict):
    # Extracting the 'results' dictionary
    metrics = results_dict.get('results', {})
    # Flattening the nested structure
    flat_metrics = {}
    for test, scores in metrics.items():
        for metric, value in scores.items():
            flat_metrics[f'{test}_{metric}'] = value
    return flat_metrics

# Creating a DataFrame from the extracted metrics
df = pd.DataFrame([extract_metrics(results01),
                   extract_metrics(results03),
                   extract_metrics(results05),
                   extract_metrics(results07),
                   extract_metrics(results09)])

df.to_csv("sparsegpt_results.csv")


# 

magres01 = {'results': {'headqa_en': {'acc': 0.3078045222465354, 'acc_stderr': 0.00881652329080399, 'acc_norm': 0.3533916849015317, 'acc_norm_stderr': 0.009130494266696286}, 'headqa_es': {'acc': 0.29576951130561635, 'acc_stderr': 0.008717251898361415, 'acc_norm': 0.33807439824945296, 'acc_norm_stderr': 0.009035583705122285}, 'xstory_cloze_en': {'acc': 0.7028457974851092, 'acc_stderr': 0.011760681560041942}, 'xstory_cloze_es': {'acc': 0.6598279285241562, 'acc_stderr': 0.012192034998028836}, 'xstory_cloze_zh': {'acc': 0.6207809397749835, 'acc_stderr': 0.012486070771171327}, 'pawsx_en': {'acc': 0.6085, 'acc_stderr': 0.010916659824821187}, 'pawsx_es': {'acc': 0.591, 'acc_stderr': 0.010996361215419952}, 'pawsx_zh': {'acc': 0.48, 'acc_stderr': 0.011174185930778308}, 'xnli_en': {'acc': 0.5385229540918164, 'acc_stderr': 0.007043712898542534}, 'xnli_es': {'acc': 0.48562874251497007, 'acc_stderr': 0.007061793633269563}, 'xnli_zh': {'acc': 0.3528942115768463, 'acc_stderr': 0.006752030476418373}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
magres03 = {'results': {'headqa_en': {'acc': 0.3070751276440554, 'acc_stderr': 0.00881070941380292, 'acc_norm': 0.3515681983953319, 'acc_norm_stderr': 0.009119739372039883}, 'headqa_es': {'acc': 0.29066374908825676, 'acc_stderr': 0.008672953048213253, 'acc_norm': 0.33005105762217357, 'acc_norm_stderr': 0.008981665970126482}, 'xstory_cloze_en': {'acc': 0.6982131039046989, 'acc_stderr': 0.011812877848905308}, 'xstory_cloze_es': {'acc': 0.6479152878888154, 'acc_stderr': 0.012291198261674565}, 'xstory_cloze_zh': {'acc': 0.6174718729318333, 'acc_stderr': 0.012506961215828186}, 'pawsx_en': {'acc': 0.5985, 'acc_stderr': 0.010963985565921716}, 'pawsx_es': {'acc': 0.5785, 'acc_stderr': 0.011044449507896284}, 'pawsx_zh': {'acc': 0.5135, 'acc_stderr': 0.011179059024816817}, 'xnli_en': {'acc': 0.5421157684630739, 'acc_stderr': 0.00703960592054858}, 'xnli_es': {'acc': 0.48502994011976047, 'acc_stderr': 0.007061545277230287}, 'xnli_zh': {'acc': 0.3520958083832335, 'acc_stderr': 0.0067485474595185896}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
magres05 = {'results': {'headqa_en': {'acc': 0.2964989059080963, 'acc_stderr': 0.008723472943212266, 'acc_norm': 0.33515681983953316, 'acc_norm_stderr': 0.00901631594860914}, 'headqa_es': {'acc': 0.2698760029175784, 'acc_stderr': 0.008478634778530038, 'acc_norm': 0.324945295404814, 'acc_norm_stderr': 0.00894581871758774}, 'xstory_cloze_en': {'acc': 0.6604897418927862, 'acc_stderr': 0.012186276146659437}, 'xstory_cloze_es': {'acc': 0.6115155526141628, 'acc_stderr': 0.012543019523160325}, 'xstory_cloze_zh': {'acc': 0.5903375248180013, 'acc_stderr': 0.012655369030750357}, 'pawsx_en': {'acc': 0.54, 'acc_stderr': 0.011147292544180015}, 'pawsx_es': {'acc': 0.555, 'acc_stderr': 0.011115272135099215}, 'pawsx_zh': {'acc': 0.4575, 'acc_stderr': 0.011142663706548624}, 'xnli_en': {'acc': 0.5219560878243513, 'acc_stderr': 0.007057897773680263}, 'xnli_es': {'acc': 0.41936127744510976, 'acc_stderr': 0.006972229035612726}, 'xnli_zh': {'acc': 0.34530938123752497, 'acc_stderr': 0.006718104139678385}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
magres07 = {'results': {'headqa_en': {'acc': 0.22465353756382203, 'acc_stderr': 0.007971682956481376, 'acc_norm': 0.26914660831509846, 'acc_norm_stderr': 0.008471397711449233}, 'headqa_es': {'acc': 0.21298322392414296, 'acc_stderr': 0.007820061625552668, 'acc_norm': 0.25711159737417943, 'acc_norm_stderr': 0.00834772444552484}, 'xstory_cloze_en': {'acc': 0.5162144275314361, 'acc_stderr': 0.012860357805055867}, 'xstory_cloze_es': {'acc': 0.5188616810059563, 'acc_stderr': 0.012857966762465}, 'xstory_cloze_zh': {'acc': 0.5168762409000662, 'acc_stderr': 0.012859793919977606}, 'pawsx_en': {'acc': 0.4555, 'acc_stderr': 0.011138757154883975}, 'pawsx_es': {'acc': 0.481, 'acc_stderr': 0.011175058879956061}, 'pawsx_zh': {'acc': 0.4475, 'acc_stderr': 0.011121318125943089}, 'xnli_en': {'acc': 0.3499001996007984, 'acc_stderr': 0.006738862508005371}, 'xnli_es': {'acc': 0.3475049900199601, 'acc_stderr': 0.006728118069361826}, 'xnli_zh': {'acc': 0.3287425149700599, 'acc_stderr': 0.006637384724985234}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
magres09 = {'results': {'headqa_en': {'acc': 0.21079504011670314, 'acc_stderr': 0.0077905941281366416, 'acc_norm': 0.25091174325309995, 'acc_norm_stderr': 0.008280803335771763}, 'headqa_es': {'acc': 0.2024070021881838, 'acc_stderr': 0.0076744792262983825, 'acc_norm': 0.23668854850474105, 'acc_norm_stderr': 0.008118671969824525}, 'xstory_cloze_en': {'acc': 0.4698874917273329, 'acc_stderr': 0.012843769248432172}, 'xstory_cloze_es': {'acc': 0.48444738583719393, 'acc_stderr': 0.012860899111470793}, 'xstory_cloze_zh': {'acc': 0.47319655857048315, 'acc_stderr': 0.012848623899505775}, 'pawsx_en': {'acc': 0.5465, 'acc_stderr': 0.011134669525078666}, 'pawsx_es': {'acc': 0.5465, 'acc_stderr': 0.011134669525078666}, 'pawsx_zh': {'acc': 0.475, 'acc_stderr': 0.011169148353274967}, 'xnli_en': {'acc': 0.3337325349301397, 'acc_stderr': 0.006662666282522683}, 'xnli_es': {'acc': 0.3335329341317365, 'acc_stderr': 0.006661671189931653}, 'xnli_zh': {'acc': 0.3333333333333333, 'acc_stderr': 0.006660674754535594}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}

df = pd.DataFrame([extract_metrics(magres01),
                   extract_metrics(magres03),
                   extract_metrics(magres05),
                   extract_metrics(magres07),
                   extract_metrics(magres09)])

df.to_csv("magnitude_results.csv")


wandares01 = {'results': {'headqa_en': {'acc': 0.3096280087527352, 'acc_stderr': 0.008830945080024244, 'acc_norm': 0.3544857768052516, 'acc_norm_stderr': 0.009136877397871914}, 'headqa_es': {'acc': 0.2924872355944566, 'acc_stderr': 0.008688925646923536, 'acc_norm': 0.3398978847556528, 'acc_norm_stderr': 0.00904743091106993}, 'xstory_cloze_en': {'acc': 0.7054930509596293, 'acc_stderr': 0.011730206832052021}, 'xstory_cloze_es': {'acc': 0.6591661151555261, 'acc_stderr': 0.01219776735043312}, 'xstory_cloze_zh': {'acc': 0.6187954996690933, 'acc_stderr': 0.012498678850934081}, 'pawsx_en': {'acc': 0.6085, 'acc_stderr': 0.01091665982482119}, 'pawsx_es': {'acc': 0.587, 'acc_stderr': 0.011012544577391419}, 'pawsx_zh': {'acc': 0.4715, 'acc_stderr': 0.011164954236428805}, 'xnli_en': {'acc': 0.5401197604790419, 'acc_stderr': 0.007041933050368151}, 'xnli_es': {'acc': 0.4874251497005988, 'acc_stderr': 0.007062477834322477}, 'xnli_zh': {'acc': 0.35568862275449104, 'acc_stderr': 0.006764058751671861}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
wandares03 = {'results': {'headqa_en': {'acc': 0.30306345733041573, 'acc_stderr': 0.008778269040959833, 'acc_norm': 0.35521517140773157, 'acc_norm_stderr': 0.00914110380082056}, 'headqa_es': {'acc': 0.2862873814733771, 'acc_stderr': 0.008633925024089288, 'acc_norm': 0.33260393873085337, 'acc_norm_stderr': 0.008999139743060719}, 'xstory_cloze_en': {'acc': 0.6968894771674388, 'acc_stderr': 0.011827528047835588}, 'xstory_cloze_es': {'acc': 0.6551952349437459, 'acc_stderr': 0.012231607060884926}, 'xstory_cloze_zh': {'acc': 0.6161482461945731, 'acc_stderr': 0.01251514539172887}, 'pawsx_en': {'acc': 0.6065, 'acc_stderr': 0.01092650764355403}, 'pawsx_es': {'acc': 0.5875, 'acc_stderr': 0.011010562712487562}, 'pawsx_zh': {'acc': 0.469, 'acc_stderr': 0.011161621338114474}, 'xnli_en': {'acc': 0.542315369261477, 'acc_stderr': 0.0070393669508079385}, 'xnli_es': {'acc': 0.49181636726546907, 'acc_stderr': 0.007063766092285609}, 'xnli_zh': {'acc': 0.3437125748502994, 'acc_stderr': 0.006710721818911558}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
wandares05 = {'results': {'headqa_en': {'acc': 0.29321663019693656, 'acc_stderr': 0.008695267407681827, 'acc_norm': 0.33552151714077316, 'acc_norm_stderr': 0.009018745500546073}, 'headqa_es': {'acc': 0.2789934354485777, 'acc_stderr': 0.008566670915511814, 'acc_norm': 0.3176513493800146, 'acc_norm_stderr': 0.008892502644908266}, 'xstory_cloze_en': {'acc': 0.6690933156849769, 'acc_stderr': 0.012108982233131471}, 'xstory_cloze_es': {'acc': 0.6307081403044341, 'acc_stderr': 0.01241968588127358}, 'xstory_cloze_zh': {'acc': 0.5790866975512905, 'acc_stderr': 0.012705145598630693}, 'pawsx_en': {'acc': 0.5695, 'acc_stderr': 0.011074574398099859}, 'pawsx_es': {'acc': 0.5455, 'acc_stderr': 0.011136735987003711}, 'pawsx_zh': {'acc': 0.4505, 'acc_stderr': 0.011128198119942883}, 'xnli_en': {'acc': 0.5333333333333333, 'acc_stderr': 0.007048995585755377}, 'xnli_es': {'acc': 0.47085828343313374, 'acc_stderr': 0.007052702953973549}, 'xnli_zh': {'acc': 0.33812375249501, 'acc_stderr': 0.0066842197950888515}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
wandares07 = {'results': {'headqa_en': {'acc': 0.24361779722830051, 'acc_stderr': 0.008199184120922732, 'acc_norm': 0.2811816192560175, 'acc_norm_stderr': 0.008587139792141173}, 'headqa_es': {'acc': 0.22173595915390226, 'acc_stderr': 0.007934636376197304, 'acc_norm': 0.27315827862873815, 'acc_norm_stderr': 0.00851084321247187}, 'xstory_cloze_en': {'acc': 0.5400397088021178, 'acc_stderr': 0.012825802370083988}, 'xstory_cloze_es': {'acc': 0.5248180013236268, 'acc_stderr': 0.012851264962354838}, 'xstory_cloze_zh': {'acc': 0.5036399735274653, 'acc_stderr': 0.012866784348289232}, 'pawsx_en': {'acc': 0.458, 'acc_stderr': 0.011143612073516636}, 'pawsx_es': {'acc': 0.4825, 'acc_stderr': 0.01117628425125419}, 'pawsx_zh': {'acc': 0.447, 'acc_stderr': 0.01112013168376774}, 'xnli_en': {'acc': 0.36706586826347304, 'acc_stderr': 0.006810448981989817}, 'xnli_es': {'acc': 0.40039920159680636, 'acc_stderr': 0.006923125219036106}, 'xnli_zh': {'acc': 0.3317365269461078, 'acc_stderr': 0.006652654857813441}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
wandares09 = {'results': {'headqa_en': {'acc': 0.2038657913931437, 'acc_stderr': 0.007695038615686023, 'acc_norm': 0.24690007293946026, 'acc_norm_stderr': 0.008236304496286376}, 'headqa_es': {'acc': 0.20532458059810357, 'acc_stderr': 0.007715442594744672, 'acc_norm': 0.24106491611962072, 'acc_norm_stderr': 0.008169863520957037}, 'xstory_cloze_en': {'acc': 0.47650562541363334, 'acc_stderr': 0.012852912530051752}, 'xstory_cloze_es': {'acc': 0.48510919920582396, 'acc_stderr': 0.012861417842074004}, 'xstory_cloze_zh': {'acc': 0.48974189278623426, 'acc_stderr': 0.012864417047980472}, 'pawsx_en': {'acc': 0.483, 'acc_stderr': 0.011176670299310671}, 'pawsx_es': {'acc': 0.5385, 'acc_stderr': 0.01114993432795706}, 'pawsx_zh': {'acc': 0.447, 'acc_stderr': 0.01112013168376774}, 'xnli_en': {'acc': 0.33672654690618764, 'acc_stderr': 0.006677431941081418}, 'xnli_es': {'acc': 0.33572854291417165, 'acc_stderr': 0.006672543485924257}, 'xnli_zh': {'acc': 0.3331337325349301, 'acc_stderr': 0.006659676975732331}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}

df = pd.DataFrame([extract_metrics(wandares01),
                   extract_metrics(wandares03),
                   extract_metrics(wandares05),
                   extract_metrics(wandares07),
                   extract_metrics(wandares09)])

df.to_csv("wanda_results.csv")


noprune = {'results': {'headqa_en': {'acc': 0.31181619256017507, 'acc_stderr': 0.008848039223989218, 'acc_norm': 0.35557986870897157, 'acc_norm_stderr': 0.009143208309033068}, 'headqa_es': {'acc': 0.29576951130561635, 'acc_stderr': 0.008717251898361417, 'acc_norm': 0.3428154631655726, 'acc_norm_stderr': 0.009066075927215624}, 'xstory_cloze_en': {'acc': 0.7054930509596293, 'acc_stderr': 0.011730206832052021}, 'xstory_cloze_es': {'acc': 0.6598279285241562, 'acc_stderr': 0.012192034998028838}, 'xstory_cloze_zh': {'acc': 0.6187954996690933, 'acc_stderr': 0.01249867885093408}, 'pawsx_en': {'acc': 0.611, 'acc_stderr': 0.010904079487730011}, 'pawsx_es': {'acc': 0.593, 'acc_stderr': 0.010987987437832495}, 'pawsx_zh': {'acc': 0.4765, 'acc_stderr': 0.011170777418517835}, 'xnli_en': {'acc': 0.5407185628742515, 'acc_stderr': 0.007041246852969196}, 'xnli_es': {'acc': 0.487624750499002, 'acc_stderr': 0.00706254822161722}, 'xnli_zh': {'acc': 0.3526946107784431, 'acc_stderr': 0.006751161657858724}}, 'versions': {'headqa_en': 0, 'headqa_es': 0, 'pawsx_en': 0, 'pawsx_es': 0, 'pawsx_zh': 0, 'xnli_en': 0, 'xnli_es': 0, 'xnli_zh': 0, 'xstory_cloze_en': 0, 'xstory_cloze_es': 0, 'xstory_cloze_zh': 0}, 'config': {'model': 'hf-causal-experimental', 'model_args': 'pretrained=bigscience/bloom-7b1,cache_dir=./llm_weights', 'num_fewshot': 0, 'batch_size': None, 'batch_sizes': [], 'device': 'cuda:0', 'no_cache': True, 'limit': None, 'bootstrap_iters': 100000, 'description_dict': {}}}
df = pd.DataFrame([extract_metrics(noprune)])
df.to_csv("noprune_results.csv")